# 网络层概述

**网络层服务**

+ 在发送主机和接收主机对之间传送段
+ 在发送端将段封装到数据报中
+ 在接收端，将段上交给传输层实体
+ 网络层协议存在于每一个主机和路由器
+ 路由器检查每一个经过它的IP数据报的头部

**转发** ：通过单个路口的过程（局部的功能） 是数据平面的功能。

​		将分组从路由器的输入接口转发到合适的输出接口的路由器本地动作。

**路由** ：从源到目的的路由路径规划过程（全局的功能）  控制平面的功能。

​		使用路由算法来决定分组从发送主机到目标主机的路径

​		路由选择算法、路由选择协议

**数据平面**

+ 本地，每个路由器的功能
+ 决定从路由器输入端口到达的分组如何转发到输出端口
+ 转发功能
  + 传统方式，基于目标地址+转发表
  + SDN方式，基于多个字段+流表



**控制平面**

+ 网络范围内的逻辑
+ 决定数据报如何在路由器之间路由，决定数据报从源到目标主机之间的端到端路径。
+ 2个控制平面方法
  + 传统的路由算法：在路由器中被实现
  
  + SDN：在远程的服务器中实现。远程控制器计算和分发转发表以提供每台路由器所使用。
  
    路由器和远程控制器通过交换包含转发表和其他路由选择信息的报文进行通信。



**网络服务模型**

网络服务模型定义了分组在发送与接收端系统之间的端到端运输特性。

1. 对于单个数据报的服务

- 可靠传送
- 延迟保证，如少于40ms的延迟

2. 对于数据报流的服务

* 保证数据报传送
* 保证流的最小带宽
* 分组之间的延迟差

因特网的网络层提供了单一的服务，称为**尽力而为服务**。传输的分组既不能保证以它们发送的顺序被接收，也不保证它们最终交付，不保证端到端时延、最小带宽等等。

提供的服务为特定值时可以说是什么样的模式。



